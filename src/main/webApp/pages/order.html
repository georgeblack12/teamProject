<!--Note: I moved this html to pages in order to have the website continuously. For example, if the user-->
<!--wishes to make another order after they place order. Thanks,George Black-->
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>order</title>

<!--	Had to change links for css and images to be in the right spot for our project. Thanks, George Black-->
<link href="../../css/order_style.css" type="text/css" rel="stylesheet">
</head>

<body>
<img id="logo" src="../../../images/logo.png" >
<br>
	
	<h4 id="numMoney">total:£</h4>
	<a id="address" href="../../../map.html">选择收货地址</a>
	<table>
  		<tbody id="tbody1">
			<tr class="tit"><td>Type</td><td>Size</td><td>SizeMoney</td><td>Number</td></tr>
  		</tbody>
	</table>
	
	<div id="choice">
		<a id="peisong">Distribution</a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a id="self">SelfExtraction</a>
	</div>
	
	<div id="confirm"><a>Confirm order</a></div>
</body>
	
<script type="text/javascript">
	var infor = window.location.search.substring(1).split("&");
	var sumMoney = infor[0];	//总额
	var type_arr = infor[1].split(",");	//冰激凌类型数组
	var size_arr = infor[2].split(",");	//尺寸数组
	var sizeMoney_arr = infor[3].split(",");	//尺寸价格数组
	var number_arr = infor[4].split(",");	//数量数组
	//alert(sumMoney);
	//alert(type_arr);
	//alert(type_arr[0]);
	//alert(type_arr[1]);
	
	var tbody = document.getElementById("tbody1");
	var tableData="";
	 //动态增加5个td,并且把data数组的五个值赋给每个td
	 for(var i=0;i<type_arr.length;i++){
	  
	  tableData+="<tr><td>"+type_arr[i]+"</td>"+"<td>"+size_arr[i]+"</td>"+"<td>"+sizeMoney_arr[i]+"</td>"+"<td>"+number_arr[i]+"</td></tr>"
	 }
	tbody.innerHTML+=tableData;
	//alert(tbody.innerHTML);
	
	//设置总额
	var numMoney = document.getElementById("numMoney");
	numMoney.innerHTML+=sumMoney;
	
	//选择配送或自提
	var address = document.getElementById("address");
	var peisong  = document.getElementById("peisong");
	var self = document.getElementById("self");
	peisong.onclick = function(){
		peisong.style.background="#FF0004";
		self.style.background="000000";
		address.style.display="block";
	}
	self.onclick = function(){
		self.style.background="#FF0004";
		peisong.style.background="000000";
		address.style.display="none";
	}


	
	//点击提交订单
	// var confirm = document.getElementById("confirm");
	// confirm.onclick = function(){
	// 	window.open("/pages/payment.html?"+sumMoney);
	// }

	//Had to edit this to get the totalCost to be moved properly as a request Parameter. Thanks, George Black
	var confirm = document.getElementById("confirm");
		confirm.onclick = function(){
		window.open("/pages/payment.jsp?totalCost="+sumMoney);
	}


	
	
	
</script>
</html>
