<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link href="css/payment_style.css" type="text/css" rel="stylesheet">
<title>payment</title>
</head>

<body>
	<img id="logo" src="images/logo.png" >
	<br>
	<h2 id="tit">Payment</h2>
	<h3 id="orderId">orderId:</h3>
	 <table id="table">
		<tr>
			<td class="tip">Card type:</td>
			<td>
				<select class="border">
				<option>VISA</option>
				<option>MASTER</option>
				</select>
			</td>
		 </tr>
		 <tr>
		 	<td class="tip">Name on the card:</td>
			<td ><input type="text" id="input_border" class="input_border" name="border"/></td>
		 </tr>
		 <tr>
		 	<td class="tip">Card number:</td>
			<td ><input type="text" id="input_border" class="input_border" name="border"/></td>
		 </tr>
		 <tr>
		 	<td class="tip">Time zone</td>
			<td >
				<select class="border" id="shiQu">
					<option>BJT</option>
					<option>JPT</option>
					<option>UKT</option>
					<option>UST</option>
				</select>
			</td>
		 </tr>
		 <tr>
		 	<td class="tip">Expiry date:</td>
			<td ><p id="date"></p></td>
		 </tr>
	</table>
	<div id="pay">Pay now  £<span id="money"></span></div>
</body>
	
<script type="text/javascript">
	//获取总额
	var infor = window.location.search.substring(1).split("&");
	var sunMoney = infor[0];	//总额
	var type_arr = infor[1].split(",");	//冰激凌类型数组
	var size_arr = infor[2].split(",");	//尺寸数组
	var number_arr = infor[3].split(",");	//数量数组
	var money = document.getElementById("money");
	money.innerHTML = sunMoney;
	//alert(sunMoney);
	
	//选择时区获取时间
	var shiQu = document.getElementById("shiQu");
	var date = document.getElementById("date");
	
	
	function getTimeString(date, timezone) {
	//获取时差（返回当地时间与伦敦时间的分钟的差值）
	var sc = date.getTimezoneOffset();
	//获取日期对象
	var newDate = new Date();
	//重置日期对象
	newDate.setTime(date.getTime() + sc * 60000 + timezone * 3600000);
	//年
	var Y = format(newDate.getFullYear());
	//月
	var M = format(newDate.getMonth() + 1);
	//日
	var D = format(newDate.getDate());
	//小时
	var H = format(newDate.getHours());
	//分钟
	var m = format(newDate.getMinutes());
	//秒
	var S = format(newDate.getSeconds());
	//格式化时间
	function format(n) {
		if(n < 10) {
			return '0' + n;
		} else {
			return '' + n;
		}
	}
	//返回时间字符串
	return Y + '-' + M + '-' + D + '&nbsp;' + H + ':' + m + ':' + S;
};
setInterval(function() {
	var now = new Date();
	switch(shiQu.value){
		case "BJT":
			date.innerHTML = getTimeString(now, 8);
			break;
		case "JPT":
			date.innerHTML = getTimeString(now, 9);
			break;
		case "UKT":
			date.innerHTML = getTimeString(now, 0);
			break;
		case "UST":
			date.innerHTML = getTimeString(now, -5);
			break;
	}
}, 1000)
	
//返回参数
alert("冰淇淋名称："+type_arr+";尺寸"+size_arr+";数量"+number_arr+";总价"+sunMoney);
	
var pay = document.getElementById("pay");
pay.onclick=function(){
	alert("您的订单将在十分钟后领取");
}

</script>
</html>




